angular.module("mapTractorApp.Directives",[]),angular.module("mapTractorApp",["ngAnimate","ngSanitize","ngTouch","ngResource","mapTractorApp.Directives"]),function(a){"use strict";var b=function(a){var b={};return b.link=function(b,c){c.css("height",a.innerHeight.toString()+"px"),b.initMap()},b};a.directive("loadMapContainer",["$window",b])}(angular.module("mapTractorApp.Directives")),angular.module("mapTractorApp").controller("MainCtrl",function(){}),function(a){"use strict";var b=function(a,b,c,d){a.initMap=function(){var a=d.get({userId:1});a.$promise.then(e)};var e=function(a){b.loadMap(a),f()},f=function(){var a=c.all();a.$promise.then(function(a){b.loadVehicles(a)})}};a.controller("MapController",["$scope","Map","Vehicle","User",b])}(angular.module("mapTractorApp")),function(a){"use strict";var b=function(b){var c,d={};d.loadMap=function(b){e(),c=a.map("map").setView(b.centerCoordinates,b.initialZoom||16),a.tileLayer(b.mapServiceUrl,{maxZoom:b.maxZoom}).addTo(c)},d.loadVehicles=function(a){b.addMarkerFromGeoJSON(c,a)},d.mapLayer=function(){return c};var e=function(){a.Icon.Default.imagePath||(a.Icon.Default.imagePath="images/leaflet")};return d};angular.module("mapTractorApp").factory("Map",["MarkerSetter",b])}(window.L),function(a){"use strict";var b=function(a){return a("users/:userId.json",{},{query:{method:"GET",params:{userId:1},isArray:!1}})};a.factory("User",["$resource",b])}(angular.module("mapTractorApp")),function(a,b){"use strict";var c=function(){var a={};return a.addMarker=function(a,c){return b.marker(c).addTo(a)},a.addMarkerFromGeoJSON=function(a,c){b.geoJson(c).addTo(a)},a};a.factory("MarkerSetter",c)}(angular.module("mapTractorApp"),window.L),function(a){"use strict";var b=function(a){return a("vehicles/list.json",{},{all:{method:"GET",params:{},isArray:!0}})};a.factory("Vehicle",["$resource",b])}(angular.module("mapTractorApp"));